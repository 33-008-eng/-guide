<!DOCTYPE html><html lang="ko"><head>    <meta charset="UTF-8">    <title>시각장애인 횡단보도 잔여거리 안내</title>    <script src="https://cdn.jsdelivr.net/npm/inferencejs@latest"></script>    <style>        body { margin: 0; text-align: center; font-family: sans-serif; background: #222; color: white; }        video { width: 100%; max-width: 640px; border-bottom: 2px solid #555; }        #info { font-size: 24px; padding: 20px; color: #00ff00; }    </style></head><body>    <h1>남은 거리 안내 시스템</h1>    <video id="video" autoplay muted playsinline></video>    <div id="info">횡단보도를 찾는 중...</div>    <script>        const video = document.getElementById('video');        const infoDiv = document.getElementById('info');        let lastMsg = "";        // 1. 카메라 시작        navigator.mediaDevices.getUserMedia({ video: { facingMode: "environment" } })            .then(stream => { video.srcObject = stream; });        // 2. Roboflow 설정 (여기에 네 정보를 넣으세요)        const p = new inferencejs.InferenceEngine();        // Find crosswalks and blinkers, 1, fHg2BmQfniF5OgYNTstt        const worker = p.inferWorker("Find crosswalks and blinkers", "1", "fHg2BmQfniF5OgYNTstt");        // 3. 실시간 감지 및 거리 계산        worker.on('predictions', (predictions) => {            if (predictions.length > 0) {                const pred = predictions[0]; // 가장 확실한 첫 번째 횡단보도 선택                const y_min = pred.y - (pred.height / 2); // 횡단보도 끝선(반대편 인도)                                let currentMsg = "";                if (y_min > 700) currentMsg = "도착했습니다.";                else if (y_min > 580) currentMsg = "2미터 남았습니다.";                else if (y_min > 480) currentMsg = "5미터 남았습니다.";                else currentMsg = "직진하세요.";                // 화면에 표시                infoDiv.innerText = currentMsg + " (y_min: " + Math.round(y_min) + ")";                                // 같은 말을 반복하지 않게 처리                if (currentMsg !== lastMsg) {                    speak(currentMsg);                    lastMsg = currentMsg;                }            }        });        function speak(text) {            const utterance = new SpeechSynthesisUtterance(text);            utterance.lang = 'ko-KR';            window.speechSynthesis.speak(utterance);        }    </script></body></html>